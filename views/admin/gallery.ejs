<div class="row" ng-controller="galleryAdminController">
	<h2>Galeria</h2>
	<div class="col-xs-12" ng-show="view==1">
		<button class="btn btn-primary pull-right" ng-click="newimage()">Nuevo</button>
		<table class="table table-bordered table-hover">
			<thead>
				<tr>
					<td>Imagen</td>
					<td>Descripci&oacute;n</td>
					<td></td>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="gimg in images">
					<td><img style="max-width: 200px;" src="https://docs.google.com/uc?id={{gimg.gid}}" alt="{{gimg.description}}"></td>
					<td>{{gimg.description}}</td>
					<td>
						<a href="https://docs.google.com/uc?id={{gimg.gid}}" class="btn btn-primary"><i class="fa fa-eye"></i></a>
						<button class="btn btn-success" ng-click="edit(gimg)"><i class="fa fa-edit"></i></button>
					</td>
				</tr>
				<tr ng-if="images.length == 0">
					<td colspan="4">A&uacute;n no se han agregado imagenes</td>
				</tr>
			</tbody>
		</table>
	</div>
	<div class="col-xs-12" ng-show="view==2">
		<div class="alert alert-success" role="alert" id="message" style="display: none">
			<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
		{{message}}
		</div>
		<form class="form-horizontal" ng-submit="save()">
			<legend>Imagen</legend>
			<div class="form-group">
				<label for="image" class="col-sm-2 control-label">Im&aacute;gen</label>
				<div class="col-sm-3">
					<img id="imgpreview" src="https://docs.google.com/uc?id={{image.gid}}" image-fallback="'/images/preview.png'" alt="Preview">
				</div>
				<div class="col-sm-7">
					<file preview="true" preview-img="#imgpreview" multiple="false" fileread="resource" accept="image/*" input-name="image" input-id="image" input-class="form-control">
				</div>
			</div>
			<div class="form-group">
				<label for="description" class="col-sm-2 control-label">Descripci&oacute;n</label>
				<div class="col-sm-10">
					<textarea class="form-control" ng-model="image.description" required id="description" placeholder="Descripcion"></textarea>
				</div>
			</div>
			<div class="form-group">
				<label for="filter" class="col-sm-2 control-label">Mostrar en:</label>
				<div class="col-sm-8">
					<select class="form-control" ng-model="selected">
						<option value="gallery">Galeria</option>
						<option value="slide">Carrusel Home</option>
					</select>
				</div>
				<div class="col-sm-2">
					<button class="btn btn-default" type="button" ng-click="addDisplay()"><i class="fa fa-plus"></i></button>
				</div>
				<div class="col-xs-offset-2 col-xs-10">
					<ul>
						<li ng-repeat="display in image.display">{{display}}
                            <button class="btn btn-default pull-right" type="button" ng-click="removeDisplay(display)"><i class="fa fa-trash"></i></button>
                        </li>
					</ul>
				</div>
			</div>
			<div class="form-group">
				<div class="col-sm-offset-2 col-sm-10">
					<button type="submit" class="btn btn-default">Guardar</button>
					<button type="button" ng-click="view=1" class="btn btn-danger">Cancelar</button>
				</div>
			</div>
			</form>
	</div>
</div>