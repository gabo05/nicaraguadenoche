<div class="row" ng-controller="articleAdminController">
	<div class="col-xs-12" ng-show="view==1">
		<button class="btn btn-primary pull-right" ng-click="newart()">Nuevo</button>
		<table class="table table-bordered table-hover">
			<thead>
				<tr>
					<td>T&iacute;tulo</td>
					<td></td>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="article in articles">
					<td>{{article.title}}</td>
					<td>
						<a href="/blog/articles/{{article.path}}" class="btn btn-primary"><i class="fa fa-eye"></i></a>
						<button class="btn btn-success" ng-click="edit(article)"><i class="fa fa-edit"></i></button>
						<button class="btn btn-danger" ng-click="pubUnpub(article)"><i class="fa fa-thumbs-{{article.published?'down':'up'}}"></i></button>
					</td>
				</tr>
				<tr ng-if="articles.length == 0">
					<td colspan="4">A&uacute;n no se han agregado art&iacute;culos</td>
				</tr>
			</tbody>
		</table>
	</div>
	<div class="col-xs-12" ng-show="view==2">
		<div class="alert alert-success" role="alert" id="message" style="display: none">
			<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
		{{message}}
		</div>
		<form class="form-horizontal" ng-submit="save()">
			<legend>Articulo</legend>
			<div class="form-group">
				<label for="name" class="col-sm-2 control-label">T&iacute;tulo</label>
				<div class="col-sm-10">
					<input type="text" ng-model="article.title" required class="form-control" id="name" placeholder="TÃ­tulo">
				</div>
			</div>
			<div class="form-group">
				<label for="image" class="col-sm-2 control-label">Im&aacute;gen Principal</label>
				<div class="col-sm-3">
					<img id="imgpreview" src="https://docs.google.com/uc?id={{article.imageid}}" image-fallback="'/images/preview.png'" alt="Preview">
				</div>
				<div class="col-sm-7">
					<file preview="true" preview-img="#imgpreview" multiple="false" fileread="mainimage" accept="image/*" input-name="image" input-id="image" input-class="form-control">
				</div>
			</div>
			<div class="form-group">
				<label for="shortdesc" class="col-sm-2 control-label">Texto Preview</label>
				<div class="col-sm-10">
					<textarea required id="shortdesc" ng-model="article.shortdesc" class="form-control"></textarea>
				</div>
			</div>
			<div class="form-group">
				<label for="content" class="col-sm-2 control-label">Contenido</label>
				<div class="col-sm-10">
					<summernote editable="editable" editor="editor" ng-model="article.content" on-image-upload="imageUpload(files)"></summernote>
				</div>
			</div>
			<div class="form-group">
				<label for="tags" class="col-sm-2 control-label">Etiquetas</label>
				<div class="col-sm-8">
					<input type="text" name="tags" class="form-control" ng-model="selected">
				</div>
				<div class="col-sm-2">
					<button class="btn btn-default" type="button" ng-click="add()"><i class="fa fa-plus"></i></button>
				</div>
				<div class="col-xs-offset-2 col-xs-10">
					<ul>
						<li ng-repeat="tag in article.tags">{{tag}}</li>
					</ul>
				</div>
			</div>
			<div class="form-group">
				<div class="col-sm-offset-2 col-sm-10">
					<button type="submit" class="btn btn-default">Guardar</button>
					<button type="button" ng-click="view=1" class="btn btn-danger">Cancelar</button>
				</div>
			</div>
			</form>
	</div>
</div>